
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>API Reference - Rodux Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.3f5d1f46.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      


    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#rodux-api-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Rodux Documentation" class="md-header__button md-logo" aria-label="Rodux Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Rodux Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/Roblox/rodux/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Roblox/rodux
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Rodux Documentation" class="md-nav__button md-logo" aria-label="Rodux Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Rodux Documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/Roblox/rodux/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    Roblox/rodux
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/installation/" class="md-nav__link">
        Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/motivation/" class="md-nav__link">
        Motivation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/store/" class="md-nav__link">
        The Store
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/actions/" class="md-nav__link">
        Actions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/reducers/" class="md-nav__link">
        Reducers
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Advanced
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Advanced
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/error-reporters/" class="md-nav__link">
        Error Reporters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/middleware/" class="md-nav__link">
        Middleware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../advanced/thunks/" class="md-nav__link">
        Thunks
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../example/" class="md-nav__link">
        Complete Example
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../debugging/" class="md-nav__link">
        Debugging
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../withroact/" class="md-nav__link">
        Usage with Roact
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        API Reference
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#roduxstore" class="md-nav__link">
    Rodux.Store
  </a>
  
    <nav class="md-nav" aria-label="Rodux.Store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storenew" class="md-nav__link">
    Store.new
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storechanged" class="md-nav__link">
    Store.changed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storedispatch" class="md-nav__link">
    Store:dispatch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storegetstate" class="md-nav__link">
    Store:getState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storedestruct" class="md-nav__link">
    Store:destruct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storeflush" class="md-nav__link">
    Store:flush
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#signal" class="md-nav__link">
    Signal
  </a>
  
    <nav class="md-nav" aria-label="Signal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#signalconnect" class="md-nav__link">
    Signal:connect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#helper-functions" class="md-nav__link">
    Helper functions
  </a>
  
    <nav class="md-nav" aria-label="Helper functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roduxcombinereducers" class="md-nav__link">
    Rodux.combineReducers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxcreatereducer" class="md-nav__link">
    Rodux.createReducer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxmakeactioncreator" class="md-nav__link">
    Rodux.makeActionCreator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#middleware" class="md-nav__link">
    Middleware
  </a>
  
    <nav class="md-nav" aria-label="Middleware">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roduxloggermiddleware" class="md-nav__link">
    Rodux.loggerMiddleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxthunkmiddleware" class="md-nav__link">
    Rodux.thunkMiddleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxmakethunkmiddleware-unreleased" class="md-nav__link">
    Rodux.makeThunkMiddleware (unreleased)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-reporters" class="md-nav__link">
    Error Reporters
  </a>
  
    <nav class="md-nav" aria-label="Error Reporters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reportreducererror" class="md-nav__link">
    reportReducerError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reportupdateerror" class="md-nav__link">
    reportUpdateError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#roduxstore" class="md-nav__link">
    Rodux.Store
  </a>
  
    <nav class="md-nav" aria-label="Rodux.Store">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storenew" class="md-nav__link">
    Store.new
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storechanged" class="md-nav__link">
    Store.changed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storedispatch" class="md-nav__link">
    Store:dispatch
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storegetstate" class="md-nav__link">
    Store:getState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storedestruct" class="md-nav__link">
    Store:destruct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storeflush" class="md-nav__link">
    Store:flush
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#signal" class="md-nav__link">
    Signal
  </a>
  
    <nav class="md-nav" aria-label="Signal">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#signalconnect" class="md-nav__link">
    Signal:connect
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#helper-functions" class="md-nav__link">
    Helper functions
  </a>
  
    <nav class="md-nav" aria-label="Helper functions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roduxcombinereducers" class="md-nav__link">
    Rodux.combineReducers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxcreatereducer" class="md-nav__link">
    Rodux.createReducer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxmakeactioncreator" class="md-nav__link">
    Rodux.makeActionCreator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#middleware" class="md-nav__link">
    Middleware
  </a>
  
    <nav class="md-nav" aria-label="Middleware">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#roduxloggermiddleware" class="md-nav__link">
    Rodux.loggerMiddleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxthunkmiddleware" class="md-nav__link">
    Rodux.thunkMiddleware
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roduxmakethunkmiddleware-unreleased" class="md-nav__link">
    Rodux.makeThunkMiddleware (unreleased)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-reporters" class="md-nav__link">
    Error Reporters
  </a>
  
    <nav class="md-nav" aria-label="Error Reporters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reportreducererror" class="md-nav__link">
    reportReducerError
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reportupdateerror" class="md-nav__link">
    reportUpdateError
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/Roblox/rodux/edit/master/docs/api-reference.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="rodux-api-reference">Rodux API Reference<a class="headerlink" href="#rodux-api-reference" title="Permanent link">&para;</a></h1>
<h2 id="roduxstore">Rodux.Store<a class="headerlink" href="#roduxstore" title="Permanent link">&para;</a></h2>
<p>The Store class is the core piece of Rodux. It is the state container that you create and use.</p>
<h3 id="storenew">Store.new<a class="headerlink" href="#storenew" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Store.new(reducer, [initialState, [middlewares, [errorReporter]]]) -&gt; Store
</code></pre></div>
<p>Creates and returns a new Store.</p>
<ul>
<li><code>reducer</code> is the store's root reducer function, and is invoked whenever an action is dispatched. It must be a pure function.</li>
<li><code>initialState</code> is the store's initial state. This should be used to load a saved state from storage.</li>
<li><code>middlewares</code> is a list of <a href="#middleware">middleware functions</a> to apply each time an action is dispatched to the store.</li>
<li><code>errorReporter</code> is a <a href="../advanced/error-reporters/">error reporter object</a> that allows custom handling of errors that occur during different phases of the store's updates</li>
</ul>
<p>The store will automatically dispatch an initialization action with a <code>type</code> of <code>@@INIT</code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The initialization action does not pass through any middleware prior to reaching the reducer.</p>
</div>
<h3 id="storechanged">Store.changed<a class="headerlink" href="#storechanged" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><span class="n">store</span><span class="p">.</span><span class="n">changed</span><span class="p">:</span><span class="n">connect</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="n">newState</span><span class="p">,</span> <span class="n">oldState</span><span class="p">)</span>
    <span class="c1">-- do something with newState or oldState</span>
<span class="kr">end</span><span class="p">)</span>
</code></pre></div>
<p>A <a href="#Signal">Signal</a> that is fired when the store's state is changed up to once per frame.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Multiple actions can be grouped together into one changed event!</p>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Do not yield within any listeners on <code>changed</code>; an error will be thrown.</p>
</div>
<h3 id="storedispatch">Store:dispatch<a class="headerlink" href="#storedispatch" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>store:dispatch(action) -&gt; nil
</code></pre></div>
<p>Dispatches an action. The action will travel through all of the store's middlewares before reaching the store's reducer.</p>
<p>Unless handled by middleware, <code>action</code> must contain a <code>type</code> field to indicate what type of action it is. No other fields are required.</p>
<h3 id="storegetstate">Store:getState<a class="headerlink" href="#storegetstate" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>store:getState() -&gt; table
</code></pre></div>
<p>Gets the store's current state.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Do not modify this state! Doing so will cause <strong>serious</strong> bugs your code!</p>
</div>
<h3 id="storedestruct">Store:destruct<a class="headerlink" href="#storedestruct" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>store:destruct() -&gt; nil
</code></pre></div>
<p>Destroys the store, cleaning up its connections.</p>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Attempting to use the store after <code>destruct</code> has been called will cause problems.</p>
</div>
<h3 id="storeflush">Store:flush<a class="headerlink" href="#storeflush" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>store:flush() -&gt; nil
</code></pre></div>
<p>Flushes the store's pending actions, firing the <code>changed</code> event if necessary.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p><code>flush</code> is called by Rodux automatically every frame and usually doesn't need to be called manually.</p>
</div>
<h2 id="signal">Signal<a class="headerlink" href="#signal" title="Permanent link">&para;</a></h2>
<p>The Signal class in Rodux represents a simple, predictable event that is controlled from within Rodux. It cannot be created outside of Rodux, but is used as <code>Store.changed</code>.</p>
<h3 id="signalconnect">Signal:connect<a class="headerlink" href="#signalconnect" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>signal:connect(listener) -&gt; { disconnect }
</code></pre></div>
<p>Connects a listener to the signal. The listener will be invoked whenever the signal is fired.</p>
<p><code>connect</code> returns a table with a <code>disconnect</code> function that can be used to disconnect the listener from the signal.</p>
<h2 id="helper-functions">Helper functions<a class="headerlink" href="#helper-functions" title="Permanent link">&para;</a></h2>
<p>Rodux supplies some helper functions to make creating complex reducers easier.</p>
<h3 id="roduxcombinereducers">Rodux.combineReducers<a class="headerlink" href="#roduxcombinereducers" title="Permanent link">&para;</a></h3>
<p>A helper function that can be used to combine multiple reducers into a new reducer.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">reducer</span> <span class="o">=</span> <span class="n">combineReducers</span><span class="p">({</span>
    <span class="n">key1</span> <span class="o">=</span> <span class="n">reducer1</span><span class="p">,</span>
    <span class="n">key2</span> <span class="o">=</span> <span class="n">reducer2</span><span class="p">,</span>
<span class="p">})</span>
</code></pre></div>
<p><code>combineReducers</code> is functionally equivalent to writing:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="kr">function</span> <span class="nf">reducer</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
    <span class="kr">return</span> <span class="p">{</span>
        <span class="n">key1</span> <span class="o">=</span> <span class="n">reducer1</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">key1</span><span class="p">,</span> <span class="n">action</span><span class="p">),</span>
        <span class="n">key2</span> <span class="o">=</span> <span class="n">reducer2</span><span class="p">(</span><span class="n">state</span><span class="p">.</span><span class="n">key2</span><span class="p">,</span> <span class="n">action</span><span class="p">),</span>
    <span class="p">}</span>
<span class="kr">end</span>
</code></pre></div>
<h3 id="roduxcreatereducer">Rodux.createReducer<a class="headerlink" href="#roduxcreatereducer" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Rodux.createReducer(initialState, actionHandlers) -&gt; reducer
</code></pre></div>
<p>A helper function that can be used to create reducers.</p>
<p>Unlike JavaScript, Lua has no <code>switch</code> statement, which can make writing reducers that respond to lots of actions clunky.</p>
<p>Reducers often have a structure that looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">initialState</span> <span class="o">=</span> <span class="p">{}</span>

<span class="kd">local</span> <span class="kr">function</span> <span class="nf">reducer</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
    <span class="n">state</span> <span class="o">=</span> <span class="n">state</span> <span class="ow">or</span> <span class="n">initialState</span>

    <span class="kr">if</span> <span class="n">action</span><span class="p">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;setFoo&quot;</span> <span class="kr">then</span>
        <span class="c1">-- Handle the setFoo action</span>
    <span class="kr">elseif</span> <span class="n">action</span><span class="p">.</span><span class="n">type</span> <span class="o">==</span> <span class="s2">&quot;setBar&quot;</span> <span class="kr">then</span>
        <span class="c1">-- Handle the setBar action</span>
    <span class="kr">end</span>

    <span class="kr">return</span> <span class="n">state</span>
<span class="kr">end</span>
</code></pre></div>
<p><code>createReducer</code> can replace the chain of <code>if</code> statements in a reducer:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">initialState</span> <span class="o">=</span> <span class="p">{}</span>

<span class="kd">local</span> <span class="n">reducer</span> <span class="o">=</span> <span class="n">createReducer</span><span class="p">(</span><span class="n">initialState</span><span class="p">,</span> <span class="p">{</span>
    <span class="n">setFoo</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
        <span class="c1">-- Handle the setFoo action</span>
    <span class="kr">end</span><span class="p">,</span>

    <span class="n">setBar</span> <span class="o">=</span> <span class="kr">function</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">)</span>
        <span class="c1">-- Handle the setBar action</span>
    <span class="kr">end</span>
<span class="p">})</span>
</code></pre></div>
<h3 id="roduxmakeactioncreator">Rodux.makeActionCreator<a class="headerlink" href="#roduxmakeactioncreator" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Rodux.makeActionCreator(name, actionGeneratorFunction) -&gt; actionCreator
</code></pre></div>
<p>A helper function that can be used to make action creators.</p>
<p>Action creators are helper objects that will generate actions from provided data and automatically populate the <code>type</code> field.</p>
<p>Actions often have a structure that looks like this:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">MyAction</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;SetFoo&quot;</span><span class="p">,</span>
    <span class="n">value</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
</code></pre></div>
<p>They are often generated by functions that take the action's data as arguments:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="kr">function</span> <span class="nf">SetFoo</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="kr">return</span> <span class="p">{</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;SetFoo&quot;</span><span class="p">,</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">,</span>
    <span class="p">}</span>
<span class="kr">end</span>
</code></pre></div>
<p><code>makeActionCreator</code> looks similar, but it automatically populates the action's type with the action creator's name. This makes it easier to keep track of which actions your reducers are responding to:</p>
<p>Make an action creator in <code>SetFoo.lua</code>:
<div class="highlight"><pre><span></span><code><span class="kr">return</span> <span class="n">makeActionCreator</span><span class="p">(</span><span class="s2">&quot;SetFoo&quot;</span><span class="p">,</span> <span class="kr">function</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="c1">-- The action creator will automatically add the &#39;type&#39; field</span>
    <span class="kr">return</span> <span class="p">{</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">value</span><span class="p">,</span>
    <span class="p">}</span>
<span class="kr">end</span><span class="p">)</span>
</code></pre></div></p>
<p>Then check for that action by name in <code>FooReducer.lua</code>:
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">SetFoo</span> <span class="o">=</span> <span class="nb">require</span><span class="p">(</span><span class="n">SetFoo</span><span class="p">)</span>
<span class="p">...</span>
<span class="kr">if</span> <span class="n">action</span><span class="p">.</span><span class="n">type</span> <span class="o">==</span> <span class="n">SetFoo</span><span class="p">.</span><span class="n">name</span> <span class="kr">then</span>
    <span class="c1">-- change some state!</span>
<span class="kr">end</span>
</code></pre></div></p>
<h2 id="middleware">Middleware<a class="headerlink" href="#middleware" title="Permanent link">&para;</a></h2>
<p>Rodux provides an API that allows changing the way that actions are dispatched called <em>middleware</em>. To attach middleware to a store, pass a list of middleware as the third argument to <code>Store.new</code>.</p>
<div class="admonition warn">
<p class="admonition-title">Warn</p>
<p>The middleware API changed in <a href="https://github.com/Roblox/rodux/pull/29">#29</a> -- middleware written against the old API will not work!</p>
</div>
<p>A single middleware is just a function with the following signature:</p>
<div class="highlight"><pre><span></span><code>(nextDispatch, store) -&gt; (action) -&gt; result
</code></pre></div>
<p>A middleware is a function that accepts the next dispatch function in the <em>middleware chain</em>, as well as the store the middleware is being used with, and returns a new function. That function is called whenever an action is dispatched and can dispatch more actions, log to output, or perform any other side effects!</p>
<p>A simple version of Rodux's <code>loggerMiddleware</code> is as easy as:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="kr">function</span> <span class="nf">simpleLogger</span><span class="p">(</span><span class="n">nextDispatch</span><span class="p">,</span> <span class="n">store</span><span class="p">)</span>
    <span class="kr">return</span> <span class="kr">function</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dispatched action of type&quot;</span><span class="p">,</span> <span class="n">action</span><span class="p">.</span><span class="n">type</span><span class="p">)</span>

        <span class="kr">return</span> <span class="n">nextDispatch</span><span class="p">(</span><span class="n">action</span><span class="p">)</span>
    <span class="kr">end</span>
<span class="kr">end</span>
</code></pre></div>
<p>Rodux also ships with several middleware that address common use-cases.</p>
<p>To apply middleware, pass a list of middleware as the third argument to <code>Store.new</code>:</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">reducer</span><span class="p">,</span> <span class="n">initialState</span><span class="p">,</span> <span class="p">{</span> <span class="n">simpleLogger</span> <span class="p">})</span>
</code></pre></div>
<p>Middleware runs from left to right when an action is dispatched. That means that if a middleware does not call <code>nextDispatch</code> when handling an action, any middleware after it will not run.</p>
<p>For a more detailed example, see the <a href="../advanced/middleware/">middleware guide</a>.</p>
<h3 id="roduxloggermiddleware">Rodux.loggerMiddleware<a class="headerlink" href="#roduxloggermiddleware" title="Permanent link">&para;</a></h3>
<p>A middleware that logs actions and the new state that results from them.</p>
<p><code>loggerMiddleware</code> is useful for getting a quick look at what actions are being dispatched. In the future, Rodux will have tools similar to <a href="https://github.com/gaearon/redux-devtools">Redux's DevTools</a>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">reducer</span><span class="p">,</span> <span class="n">initialState</span><span class="p">,</span> <span class="p">{</span> <span class="n">loggerMiddleware</span> <span class="p">})</span>
</code></pre></div>
<h3 id="roduxthunkmiddleware">Rodux.thunkMiddleware<a class="headerlink" href="#roduxthunkmiddleware" title="Permanent link">&para;</a></h3>
<p>A middleware that allows thunks to be dispatched. Thunks are functions that perform asynchronous tasks or side effects, and can dispatch actions.</p>
<p><code>thunkMiddleware</code> is comparable to Redux's <a href="https://github.com/gaearon/redux-thunk">redux-thunk</a>.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">reducer</span><span class="p">,</span> <span class="n">initialState</span><span class="p">,</span> <span class="p">{</span> <span class="n">thunkMiddleware</span> <span class="p">})</span>

<span class="n">store</span><span class="p">:</span><span class="n">dispatch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello from a thunk!&quot;</span><span class="p">)</span>

    <span class="n">store</span><span class="p">:</span><span class="n">dispatch</span><span class="p">({</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;thunkAction&quot;</span>
    <span class="p">})</span>
<span class="kr">end</span><span class="p">)</span>
</code></pre></div>
<h3 id="roduxmakethunkmiddleware-unreleased">Rodux.makeThunkMiddleware (unreleased)<a class="headerlink" href="#roduxmakethunkmiddleware-unreleased" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>Rodux.makeThunkMiddleware(extraArgument) -&gt; thunkMiddleware
</code></pre></div>
<p>A function that creates a thunk middleware that injects a custom argument when invoking thunks (in addition to the store itself). This is useful for cases like using an API service layer that could be swapped out for a mock service in tests.</p>
<div class="highlight"><pre><span></span><code><span class="kd">local</span> <span class="n">myThunkMiddleware</span> <span class="o">=</span> <span class="n">Rodux</span><span class="p">.</span><span class="n">makeThunkMiddleware</span><span class="p">(</span><span class="n">myCustomArg</span><span class="p">)</span>
<span class="kd">local</span> <span class="n">store</span> <span class="o">=</span> <span class="n">Store</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">reducer</span><span class="p">,</span> <span class="n">initialState</span><span class="p">,</span> <span class="p">{</span> <span class="n">myThunkMiddleware</span> <span class="p">})</span>

<span class="n">store</span><span class="p">:</span><span class="n">dispatch</span><span class="p">(</span><span class="kr">function</span><span class="p">(</span><span class="n">store</span><span class="p">,</span> <span class="n">myCustomArg</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello from a thunk with extra argument:&quot;</span><span class="p">,</span> <span class="n">myCustomArg</span><span class="p">)</span>

    <span class="n">store</span><span class="p">:</span><span class="n">dispatch</span><span class="p">({</span>
        <span class="nb">type</span> <span class="o">=</span> <span class="s2">&quot;thunkAction&quot;</span>
    <span class="p">})</span>
<span class="kr">end</span><span class="p">)</span>
</code></pre></div>
<h2 id="error-reporters">Error Reporters<a class="headerlink" href="#error-reporters" title="Permanent link">&para;</a></h2>
<p>In version 3.0.0+, the Rodux store can be provided with a custom error reporter. This is a good entry point to enable improved logging, debugging, and analytics. </p>
<p>The error reporter interface is an object with two functions:</p>
<h3 id="reportreducererror">reportReducerError<a class="headerlink" href="#reportreducererror" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>reportReducerError(prevState, action, errorResult) -&gt; ()
</code></pre></div>
<p>Called when an error is thrown while processing an action through the reducer. If <a href="#RoduxthunkMiddleware">thunk middleware</a> is included, errors encountered while executing thunks will also be caught and reported through this function.</p>
<p>The function receives these arguments:</p>
<ul>
<li><code>prevState</code> - the last known state value for the store. Since this reporter catches errors that occurred before the reducer finished resolving, the <code>prevState</code> value will be equal to the store state <em>before the action was processed</em></li>
<li><code>action</code> - the action that was being processed when the error occurred</li>
<li><code>errorResult</code> - an object describing the error that was caught</li>
</ul>
<p>The default error reporter will simply rethrow the value from the caught errorResult.</p>
<h3 id="reportupdateerror">reportUpdateError<a class="headerlink" href="#reportupdateerror" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code>reportUpdateError(prevState, currentState, actionLog, errorResult) -&gt; ()
</code></pre></div>
<p>Called when an error is thrown while updating listeners subscribed to the store state. Rodux flushes actions on a regular interval rather than synchronously, so there may be several actions queued up before each flush.</p>
<p>The last 3 actions that were received before the current flush are provided to the error reporter. This is currently hard coded in the store logic, but could be overridden with an option in the future if it's useful to do so.</p>
<p>The function receives these arguments:</p>
<ul>
<li><code>prevState</code> - the last known state that was flushed to consumers <em>before</em> the update that produced the error</li>
<li><code>currentState</code> - the new store state that was being flushed to consumers when the error occurred. Some consumers may have already processed to this new state by the time the reporter is called</li>
<li><code>actionLog</code> - an array containing the last three actions that were dispatched to the store, sorted from oldest to newest</li>
<li><code>errorResult</code> - an object describing the error that was caught</li>
</ul>
<p>The default error reporter will simply rethrow the value from the caught errorResult.</p>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../withroact/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Usage with Roact" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Usage with Roact
            </div>
          </div>
        </a>
      
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.b1047164.min.js"></script>
      
    
  </body>
</html>